<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>TypeScript LRU Cache</title><meta name="description" content="Documentation for TypeScript LRU Cache"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">TypeScript LRU Cache</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>TypeScript LRU Cache</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#typescript-lru-cache" id="typescript-lru-cache" style="color: inherit; text-decoration: none;">
  <h1>typescript-lru-cache</h1>
</a>
<p>This is a simple LRU cache implementation written in Typescript.
An LRU cache will evict the least recently used item to make room for new items.
Useful for when a cache size should be limited but the most used items should be kept.</p>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h2>Installation:</h2>
</a>
<pre><code class="language-typescript"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">i</span><span class="hl-1"> </span><span class="hl-0">typescript</span><span class="hl-1">-</span><span class="hl-0">lru</span><span class="hl-1">-</span><span class="hl-0">cache</span>
</code></pre>

<a href="#why-use-this-lru-cache" id="why-use-this-lru-cache" style="color: inherit; text-decoration: none;">
  <h2>Why use this LRU Cache?</h2>
</a>
<p>This library was written in Typescript so type definitions are included out of the box and are always up to date. The Typescript source code is included in the package so users can easily look at the implementation. This cache uses a <code>Map</code> object for internal entry tracking, so any type can be used as a key (including reference types!). Also, this library has no run-time dependencies!</p>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage:</h2>
</a>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">LRUCache</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;typescript-lru-cache&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Create a cache. Optional options object can be passed in.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">&lt;</span><span class="hl-8">string</span><span class="hl-1">, </span><span class="hl-8">string</span><span class="hl-1">&gt;();</span><br/><br/><span class="hl-4">// Set a value in the cache with a key</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// value will be &#39;testValue&#39;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">value</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">get</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">value</span><span class="hl-1">);</span>
</code></pre>

<a href="#options" id="options" style="color: inherit; text-decoration: none;">
  <h2>Options:</h2>
</a>

<a href="#lrucache-options" id="lrucache-options" style="color: inherit; text-decoration: none;">
  <h3>LRUCache Options:</h3>
</a>
<p>Pass in an optional options object into the constructor of the LRU cache.</p>
<p>The options object has the following properties:</p>
<pre><code class="language-typescript"><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-8">LRUCacheOptions</span><span class="hl-1">&lt;</span><span class="hl-8">TKey</span><span class="hl-1">, </span><span class="hl-8">TValue</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-0">maxSize</span><span class="hl-1">?: </span><span class="hl-8">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">entryExpirationTimeInMS</span><span class="hl-1">?: </span><span class="hl-8">number</span><span class="hl-1"> | </span><span class="hl-8">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">onEntryEvicted</span><span class="hl-1">?: (</span><span class="hl-0">evictedEntry</span><span class="hl-1">: { </span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-8">TKey</span><span class="hl-1">; </span><span class="hl-0">value</span><span class="hl-1">: </span><span class="hl-8">TValue</span><span class="hl-1">; </span><span class="hl-0">isExpired</span><span class="hl-1">: </span><span class="hl-8">boolean</span><span class="hl-1"> }) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">onEntryMarkedAsMostRecentlyUsed</span><span class="hl-1">?: (</span><span class="hl-0">entry</span><span class="hl-1">: { </span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-8">TKey</span><span class="hl-1">; </span><span class="hl-0">value</span><span class="hl-1">: </span><span class="hl-8">TValue</span><span class="hl-1"> }) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">clone</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">cloneFn</span><span class="hl-1">?: (</span><span class="hl-0">value</span><span class="hl-1">: </span><span class="hl-8">TValue</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-8">TValue</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<ul>
<li><code>maxSize</code> The max number of items the cache can hold. Once the cache reaches this number, the least recently used entries will start to be evicted to make room for new entries. Defaults to 25.</li>
<li><code>entryExpirationTimeInMS</code> The time to live for cache entries. Setting this to <code>null</code> will make entries never expire. Default value is <code>null</code>.</li>
<li><code>onEntryEvicted</code> Function to be called whenever an entry is evicted from the cache (when evicted due to needing to make room, is expired, or deleted using delete()). Passed argument is an object:<pre><code class="language-typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">key</span><span class="hl-1">: </span><span class="hl-0">TKey</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-9">value</span><span class="hl-1">: </span><span class="hl-0">TValue</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-9">isExpired</span><span class="hl-1">: </span><span class="hl-0">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
</li>
<li><code>onEntryMarkedAsMostRecentlyUsed</code> Function to be called whenever an entry is marked as recently used (on set, get, find, etc). Passed argument is an object:<pre><code class="language-typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">key</span><span class="hl-1">: </span><span class="hl-0">TKey</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-9">value</span><span class="hl-1">: </span><span class="hl-0">TValue</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
</li>
<li><code>clone</code> Clone values being set and fetched from the cache (clones on set and any retrievals). Useful to maintain immutability. NOTE! This does come with performance overhead (almost twice as slow). Defaults to false.</li>
<li><code>cloneFn</code> Custom function to be used with the <code>clone</code> option. If not passed, <code>JSON.parse(JSON.stringify(value))</code> is used for cloning objects.</li>
</ul>
<p>Example using options:</p>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">LRUCache</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;typescript-lru-cache&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Create a cache. Optional options object can be passed in.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">&lt;</span><span class="hl-8">string</span><span class="hl-1">, </span><span class="hl-8">string</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-0">maxSize:</span><span class="hl-1"> </span><span class="hl-10">100</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">entryExpirationTimeInMS:</span><span class="hl-1"> </span><span class="hl-10">5000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">onEntryEvicted</span><span class="hl-0">:</span><span class="hl-1"> ({ </span><span class="hl-0">key</span><span class="hl-1">, </span><span class="hl-0">value</span><span class="hl-1">, </span><span class="hl-0">isExpired</span><span class="hl-1"> }) </span><span class="hl-5">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">`Entry with key </span><span class="hl-5">${</span><span class="hl-0">key</span><span class="hl-5">}</span><span class="hl-3"> and value </span><span class="hl-5">${</span><span class="hl-0">value</span><span class="hl-5">}</span><span class="hl-3"> was evicted from the cache. Expired: </span><span class="hl-5">${</span><span class="hl-0">isExpired</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-7">onEntryMarkedAsMostRecentlyUsed</span><span class="hl-0">:</span><span class="hl-1"> ({ </span><span class="hl-0">key</span><span class="hl-1">, </span><span class="hl-0">value</span><span class="hl-1"> }) </span><span class="hl-5">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-3">`Entry with key </span><span class="hl-5">${</span><span class="hl-0">key</span><span class="hl-5">}</span><span class="hl-3"> and value </span><span class="hl-5">${</span><span class="hl-0">value</span><span class="hl-5">}</span><span class="hl-3"> was just marked as most recently used.`</span><span class="hl-1">)</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Set a value in the cache with a key</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// value will be &#39;testValue&#39;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">value</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">get</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">value</span><span class="hl-1">);</span>
</code></pre>

<a href="#lrucache-set-entry-options" id="lrucache-set-entry-options" style="color: inherit; text-decoration: none;">
  <h3>LRUCache Set Entry Options:</h3>
</a>
<p>Pass in an optional options object as the third argument of the <code>set</code> method to configure options for just that entry. These options will override LRUCache options if applicable (including callback methods like onEntryEvicted).</p>
<p>The options object has the following properties:</p>
<pre><code class="language-typescript"><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-8">LRUCacheSetEntryOptions</span><span class="hl-1">&lt;</span><span class="hl-8">TKey</span><span class="hl-1">, </span><span class="hl-8">TValue</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-0">entryExpirationTimeInMS</span><span class="hl-1">?: </span><span class="hl-8">number</span><span class="hl-1"> | </span><span class="hl-8">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">onEntryEvicted</span><span class="hl-1">?: (</span><span class="hl-0">evictedEntry</span><span class="hl-1">: { </span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-8">TKey</span><span class="hl-1">; </span><span class="hl-0">value</span><span class="hl-1">: </span><span class="hl-8">TValue</span><span class="hl-1">; </span><span class="hl-0">isExpired</span><span class="hl-1">: </span><span class="hl-8">boolean</span><span class="hl-1"> }) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">onEntryMarkedAsMostRecentlyUsed</span><span class="hl-1">?: (</span><span class="hl-0">entry</span><span class="hl-1">: { </span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-8">TKey</span><span class="hl-1">; </span><span class="hl-0">value</span><span class="hl-1">: </span><span class="hl-8">TValue</span><span class="hl-1"> }) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-8">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">clone</span><span class="hl-1">?: </span><span class="hl-8">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-7">cloneFn</span><span class="hl-1">?: (</span><span class="hl-0">value</span><span class="hl-1">: </span><span class="hl-8">TValue</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-8">TValue</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<ul>
<li><code>entryExpirationTimeInMS</code> The time to live for the entry. Setting this to <code>null</code> will make the entry never expire.</li>
<li><code>onEntryEvicted</code> Function to be called whenever <em>this</em> entry is evicted from the cache (when evicted due to needing to make room, is expired, or deleted using delete()). Passed argument is an object:<pre><code class="language-typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">key</span><span class="hl-1">: </span><span class="hl-0">TKey</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-9">value</span><span class="hl-1">: </span><span class="hl-0">TValue</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-9">isExpired</span><span class="hl-1">: </span><span class="hl-0">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
</li>
<li><code>onEntryMarkedAsMostRecentlyUsed</code> Function to be called whenever <em>this</em> entry is marked as recently used (on set, get, find, etc). Passed argument is an object:<pre><code class="language-typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">key</span><span class="hl-1">: </span><span class="hl-0">TKey</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-9">value</span><span class="hl-1">: </span><span class="hl-0">TValue</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
</li>
<li><code>clone</code> Clone values being set and fetched from the cache (clones on set and any retrievals). Useful to maintain immutability. NOTE! This does come with performance overhead (almost twice as slow). Defaults to false.</li>
<li><code>cloneFn</code> Custom function to be used with the <code>clone</code> option. If not passed, <code>JSON.parse(JSON.stringify(value))</code> is used for cloning objects.</li>
</ul>
<p>Example:</p>
<pre><code class="language-typescript"><span class="hl-4">// Cache defaults to 1000ms TTL for cache entries</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">({ </span><span class="hl-0">entryExpirationTimeInMS:</span><span class="hl-1"> </span><span class="hl-10">1000</span><span class="hl-1"> });</span><br/><br/><span class="hl-4">// For this entry, TTL will be 10000ms (overriding the cache config of 1000ms).</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;key&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;value&#39;</span><span class="hl-1">, { </span><span class="hl-0">entryExpirationTimeInMS:</span><span class="hl-1"> </span><span class="hl-10">10000</span><span class="hl-1"> });</span>
</code></pre>

<a href="#api" id="api" style="color: inherit; text-decoration: none;">
  <h2>API</h2>
</a>
<ul>
<li><code>set(key, value, options?)</code> Sets the value for the key in the LRUCache object. Returns the LRUCache object. This marks the newly added entry as the most recently used entry. If adding the new entry makes the cache size go above maxSize, this will evict the least recently used entries until size is equal to maxSize.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Set the key testKey to value testValue</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Set the key key2 to value value2. Pass in optional options.</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;key2&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;value2&#39;</span><span class="hl-1">, { </span><span class="hl-0">entryExpirationTimeInMS:</span><span class="hl-1"> </span><span class="hl-10">10</span><span class="hl-1"> });</span>
</code></pre>
<ul>
<li><code>get(key)</code> Returns the value associated to the key, or null if there is none or if the entry is expired. If an entry is returned, this marks the returned entry as the most recently used entry.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Set the key testKey to value testValue</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Will be &#39;testValue&#39;. Entry will now be most recently used.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">item1</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">get</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Will be null</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">item2</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">get</span><span class="hl-1">(</span><span class="hl-3">&#39;keyNotInCache&#39;</span><span class="hl-1">);</span>
</code></pre>
<ul>
<li><code>peek(key)</code> Returns the value associated to the key, or null if there is none or if the entry is expired. If an entry is returned, this will not mark the entry as most recently accessed. Useful if a value is needed but the order of the cache should not be changed.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Set the key testKey to value testValue</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Will be &#39;testValue&#39;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">item1</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">peek</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Will be null</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">item2</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">peek</span><span class="hl-1">(</span><span class="hl-3">&#39;keyNotInCache&#39;</span><span class="hl-1">);</span>
</code></pre>
<ul>
<li><code>delete(key)</code> Deletes the entry for the passed in key. Returns true if item was deleted. False if item is not in cache.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Set the key testKey to value testValue</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Will be true</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">wasDeleted</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">delete</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Will be false</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">wasDeleted2</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">delete</span><span class="hl-1">(</span><span class="hl-3">&#39;keyNotInCache&#39;</span><span class="hl-1">);</span>
</code></pre>
<ul>
<li><code>has(key)</code> Returns a boolean asserting whether a value has been associated to the key in the LRUCache object or not. This does not mark the entry as recently used.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Set the key testKey to value testValue</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Will be true</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">wasDeleted</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">has</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Will be false</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">wasDeleted2</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">has</span><span class="hl-1">(</span><span class="hl-3">&#39;keyNotInCache&#39;</span><span class="hl-1">);</span>
</code></pre>
<ul>
<li><code>clear()</code> Removes all entries in the cache.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Set the key testKey to value testValue</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Clear cache.</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">clear</span><span class="hl-1">();</span>
</code></pre>
<ul>
<li><code>find(entry =&gt; boolean)</code> Searches the cache for an entry matching the passed in condition. If multiply entries in the cache match the condition, the most recently used entry will be returned. If an entry is returned, this marks the returned entry as the most recently used entry. Expired entries will be skipped (and removed).</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Set the key testKey to value testValue</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// item will be { key: &#39;testKey&#39;, value: &#39;testValue }</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">item</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">find</span><span class="hl-1">(</span><span class="hl-0">entry</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-6">key</span><span class="hl-1">, </span><span class="hl-6">value</span><span class="hl-1"> } = </span><span class="hl-0">entry</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">if</span><span class="hl-1"> (</span><span class="hl-0">key</span><span class="hl-1"> === </span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1"> || </span><span class="hl-0">value</span><span class="hl-1"> === </span><span class="hl-3">&#39;something&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// item2 will be null</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">item2</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">find</span><span class="hl-1">(</span><span class="hl-0">entry</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-0">entry</span><span class="hl-1">.</span><span class="hl-0">key</span><span class="hl-1"> === </span><span class="hl-3">&#39;notInCache&#39;</span><span class="hl-1">);</span>
</code></pre>
<ul>
<li><code>forEach((key, value, index) =&gt; void)</code> Iterates over and applies the callback function to each entry in the cache. Iterates in order from most recently accessed entry to least recently. Expired entries will be skipped (and removed). No entry will be marked as recently used.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Set the key testKey to value testValue</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">forEach</span><span class="hl-1">((</span><span class="hl-0">key</span><span class="hl-1">, </span><span class="hl-0">value</span><span class="hl-1">, </span><span class="hl-0">index</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">// do something with key, value, and/or index</span><br/><span class="hl-1">});</span>
</code></pre>
<ul>
<li><code>values()</code> Creates a Generator which can be used with for ... of ... to iterate over the cache values. Iterates in order from most recently accessed entry to least recently. Expired entries will be skipped (and removed). No entry will be marked as accessed.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Set the key testKey to value testValue</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-2">for</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">value</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">values</span><span class="hl-1">()) {</span><br/><span class="hl-1">  </span><span class="hl-4">// do something with the value</span><br/><span class="hl-1">}</span>
</code></pre>
<ul>
<li><code>keys()</code> Creates a Generator which can be used with for ... of ... to iterate over the cache keys. Iterates in order from most recently accessed entry to least recently. Expired entries will be skipped (and removed). No entry will be marked as accessed.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Set the key testKey to value testValue</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-2">for</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">key</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">values</span><span class="hl-1">()) {</span><br/><span class="hl-1">  </span><span class="hl-4">// do something with the key</span><br/><span class="hl-1">}</span>
</code></pre>
<ul>
<li><code>entries()</code> Creates a Generator which can be used with for ... of ... to iterate over the cache entries. Iterates in order from most recently accessed entry to least recently. Expired entries will be skipped (and removed). No entry will be marked as accessed.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Set the key testKey to value testValue</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-2">for</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">entry</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">entries</span><span class="hl-1">()) {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-6">key</span><span class="hl-1">, </span><span class="hl-6">value</span><span class="hl-1"> } = </span><span class="hl-0">entry</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">// do something with the entry</span><br/><span class="hl-1">}</span>
</code></pre>
<ul>
<li><code>[Symbol.iterator]()</code> Creates a Generator which can be used with for ... of ... to iterate over the cache entries. Iterates in order from most recently accessed entry to least recently. Expired entries will be skipped (and removed). No entry will be marked as accessed.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">();</span><br/><br/><span class="hl-4">// Set the key testKey to value testValue</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-2">for</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">entry</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-0">cache</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-6">key</span><span class="hl-1">, </span><span class="hl-6">value</span><span class="hl-1"> } = </span><span class="hl-0">entry</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-4">// do something with the entry</span><br/><span class="hl-1">}</span>
</code></pre>
<ul>
<li><code>size</code> Returns the number of entries in the LRUCache.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">();</span><br/><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">size</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-0">size</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Will log 1</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">size</span><span class="hl-1">);</span>
</code></pre>
<ul>
<li><code>remainingSize</code> Returns the number of entries that can still be added to the LRUCache without evicting existing entries.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">({ </span><span class="hl-0">maxSize:</span><span class="hl-1"> </span><span class="hl-10">10</span><span class="hl-1"> });</span><br/><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">remainingSize</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-0">remainingSize</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Will log 9 due to 9 spots remaining before reaching maxSize of 10.</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">remainingSize</span><span class="hl-1">);</span>
</code></pre>
<ul>
<li><code>newest</code> Returns the most recently used (newest) entry in the cache. This will not mark the entry as recently used.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">({ </span><span class="hl-0">maxSize:</span><span class="hl-1"> </span><span class="hl-10">10</span><span class="hl-1"> });</span><br/><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">newest</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-0">newest</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Will log testValue</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">newest</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">);</span><br/><span class="hl-4">// Will log testKey</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">newest</span><span class="hl-1">.</span><span class="hl-0">key</span><span class="hl-1">);</span>
</code></pre>
<ul>
<li><code>oldest</code> Returns the least recently used (oldest) entry in the cache. This will not mark the entry as recently used.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">({ </span><span class="hl-0">maxSize:</span><span class="hl-1"> </span><span class="hl-10">10</span><span class="hl-1"> });</span><br/><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">oldest</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-0">oldest</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Will log testValue</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">oldest</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">);</span><br/><span class="hl-4">// Will log testKey</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">oldest</span><span class="hl-1">.</span><span class="hl-0">key</span><span class="hl-1">);</span>
</code></pre>
<ul>
<li><code>maxSize</code> Gets or sets the maxSize of the cache. Setting this to a lower maxSize will evict the least recently used entries if needed to reach new maxSize.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">cache</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">LRUCache</span><span class="hl-1">({ </span><span class="hl-0">maxSize:</span><span class="hl-1"> </span><span class="hl-10">10</span><span class="hl-1"> });</span><br/><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-7">set</span><span class="hl-1">(</span><span class="hl-3">&#39;testKey&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;testValue&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Will be 10</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">maxSize</span><span class="hl-1"> = </span><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-0">maxSize</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Set new maxSize to 5. If there are more than 5 items in the cache, the least recently used entries will be removed until cache size is 5.</span><br/><span class="hl-0">cache</span><span class="hl-1">.</span><span class="hl-0">maxSize</span><span class="hl-1"> = </span><span class="hl-10">5</span><span class="hl-1">;</span>
</code></pre>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/LRUCache.html" class="tsd-kind-icon">LRUCache</a></li><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/LRUCacheEntry.html" class="tsd-kind-icon">LRUCache<wbr/>Entry</a></li><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/LRUCacheOptions.html" class="tsd-kind-icon">LRUCache<wbr/>Options</a></li><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/LRUCacheSetEntryOptions.html" class="tsd-kind-icon">LRUCache<wbr/>Set<wbr/>Entry<wbr/>Options</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li><li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>